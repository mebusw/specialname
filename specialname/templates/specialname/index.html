{% extends 'specialname/_base.html' %}
{% load static %}

{% block content %}
        <!-- Header and nav bar -->
        <div class="container">
        </div>
        <!-- Body: Recents -->
        <div class="page-row-topic">
            <div class="container main">
                <div class="row">
                    <div class="col-sm-12 col-md-12">
                        <img src="http://www.specialname.cn/wp-content/themes/twentythirteen/images/logo.png">
                    </div>
                </div>
                <div class="row">
                    <a href="#" class="genders" x-gender=0><img src="{% static 'media/girl.gif' %}"></a> 
                    <a href="#" class="genders" x-gender=1><img src="{% static 'media/boy.gif' %}"></a> 
                </div>

            </div>
        </div><!-- / Body: Recents -->


                            
        <!-- Body: Topic -->
        <div class="page-row-pink" id="chars">
            <div class="container main">
                <div class="container-fluid" style="width: 80%">
                    <div class="row text-center">
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="0" id="char0" name="" />
                            <label for="char0">Hornorary</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="1" id="char1" name="" />
                            <label for="char1">Intellectual</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="2" id="char2" name="" />
                            <label for="char2">Elegant</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="3" id="char3" name="" />
                            <label for="char3">Agile</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="4" id="char4" name="" />
                            <label for="char4">Power</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="5" id="char5" name="" />
                            <label for="char5">Ordered</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="6" id="char6" name="" />
                            <label for="char6">Lucky</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="7" id="char7" name="" />
                            <label for="char7">Precious</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="8" id="char8" name="" />
                            <label for="char8">Artistic</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="9" id="char9" name="" />
                            <label for="char9">Beautiful</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="10" id="char10" name="" />
                            <label for="char10">Reliable</label>
                        </div>
                        <div class="col-xs-6 col-sm-4 col-md-2 checkbox-character">
                            <input type="checkbox" value="11" id="char11" name="" />
                            <label for="char11">Free</label>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div>
                <button class="btn btn-success center-block" id="start">Submit 5 characters</button>
            </div>
            
            <div id="myDiv" class="text-center">
            </div>

            <div id="payment" class="center-block">
                <form role="form" action="./payment" method="POST">
                    {% csrf_token %}
                    <input type="hidden" name="characters" id="characters" value="1,0,1">
                    <input type="hidden" name="gender" id="gender" value="0">
                    <button type="submit" id="payNow" class="btn btn-info center-block">Announce It!</button>
                </form>
            </div>

        </div><!-- / Body: Topic -->



        <!-- Body: Topic -->
        <div class="page-row-light" style="border-width: 1px 0px 1px 0px; border-style: solid;border-color: green;">
            <div class="container main">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 col-md-6">
                            <img src="{% static 'media/mok.jpg' %}" class="img-responsive center-block" alt="Responsive image" width="50%" style="padding-top: 30px;">
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <h2 style="font-style: normal;font-weight: normal;">Design a Chinese name for life</h2>
                            <p style="font-style: normal;font-weight: normal;">我是中国Special Name 公司的CEO以及创始人-Dido Mok。在过去的12年中，我经常到访中国。每当我在中国的时候，我经常会被同事要求帮他们和他们的孩子取一个特别的英文名。如同中文名一样，当会见朋友或工作伙伴时，他们会将英文名与您孩子的性格紧密联系在一起，同时名字也会给别人留下重要的第一印象。因此给孩子取名字不仅是极高的殊荣也是一份重大的责任。在将来，您的孩子的英文名字会出现在他们的大学申请书上，亦或是名片上。他们的名字应该代表他们希望被人记住的形象。 </p>

                        </div>
                    </div>
                </div>
            </div>
        </div><!-- / Body: Topic -->

{% endblock %}


{% block script %}
        <script type="text/javascript">
            $('#chars').hide()
            $('#myDiv').hide()
            $('#payment').hide()
            $('#result').hide()
            $('#start').prop('disabled', true)

            
            $('.genders').click(function (evt) {
                $('#chars').show();
                $('#gender').val($(this).attr('x-gender'))
                
                $('body').animate({
                    scrollTop: 500
                }, 750);
            })

            $('.checkbox-character input').change(function (evt) {
                console.log(evt);
                var selections = $('.checkbox-character input').map(function(i, e){
                  return e.checked ? 1 : 0;
                }).get();
                var sum = selections.reduce(function(sum,element) {
                     return sum + Number(element);
                 }, 0);
                
                $('#start').prop('disabled', sum !== 5)
                
            })

            $('#start').click(function (ele) {
                var selections = $('.checkbox-character input').map(function(i, e){
                  return e.checked ? 1 : 0;
                }).get();
                $('#characters').val( selections.join(",") );


                // $('#chars').hide()
                $('#myDiv').empty();
                $('#myDiv').show();
                $('#myDiv').append('<p><b>Our expert is naming you...</b></p>');
                var loader = $("#myDiv").percentageLoader({ width : 180, height : 180, progress : 0, value : ''})
                $('#myDiv').children().addClass('center-block')
                

                var width = 0;
                var interval = setInterval(function() {
                    width += 5;
                    loader.setProgress(width / 100)
                    if (width >= 100) {
                        clearInterval(interval);
                        $('#payment').show()
                    }
                }, 30);
                
            })

            $('.checkbox-character input').change(function (ele) {

            })
        </script>
{% endblock %}
